<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–î–∏–∞–≥—Ä–∞–º–º—ã ‚Äî –°–∫–ª–∞–¥ –†–≠–ö</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.6.1/mermaid.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;600;700&family=Unbounded:wght@300;700;900&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #09090f;
    --surface: #10101c;
    --card: #14141f;
    --border: #1e1e2e;
    --accent: #00d4ff;
    --accent2: #7c3aed;
    --accent3: #10b981;
    --text: #e2e8f0;
    --muted: #64748b;
    --glow: rgba(0,212,255,0.15);
  }

  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    background: var(--bg);
    color: var(--text);
    font-family: 'JetBrains Mono', monospace;
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* ‚îÄ‚îÄ GRID BACKGROUND ‚îÄ‚îÄ */
  body::before {
    content: '';
    position: fixed; inset: 0;
    background-image:
      linear-gradient(rgba(0,212,255,0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(0,212,255,0.03) 1px, transparent 1px);
    background-size: 40px 40px;
    pointer-events: none;
    z-index: 0;
  }

  /* ‚îÄ‚îÄ HEADER ‚îÄ‚îÄ */
  header {
    position: relative;
    z-index: 10;
    padding: 60px 60px 40px;
    border-bottom: 1px solid var(--border);
    background: linear-gradient(180deg, rgba(0,212,255,0.04) 0%, transparent 100%);
  }

  .header-badge {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background: rgba(0,212,255,0.08);
    border: 1px solid rgba(0,212,255,0.2);
    border-radius: 4px;
    padding: 4px 12px;
    font-size: 11px;
    color: var(--accent);
    letter-spacing: 0.15em;
    text-transform: uppercase;
    margin-bottom: 20px;
  }
  .badge-dot { width: 6px; height: 6px; border-radius: 50%; background: var(--accent); animation: pulse 2s infinite; }

  h1 {
    font-family: 'Unbounded', sans-serif;
    font-size: clamp(28px, 4vw, 52px);
    font-weight: 900;
    line-height: 1.1;
    background: linear-gradient(135deg, #fff 0%, var(--accent) 60%, var(--accent2) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .subtitle {
    margin-top: 12px;
    font-size: 13px;
    color: var(--muted);
    letter-spacing: 0.05em;
  }

  /* ‚îÄ‚îÄ NAV ‚îÄ‚îÄ */
  nav {
    position: sticky;
    top: 0;
    z-index: 100;
    background: rgba(9,9,15,0.92);
    backdrop-filter: blur(20px);
    border-bottom: 1px solid var(--border);
    padding: 0 60px;
    display: flex;
    gap: 0;
    overflow-x: auto;
  }

  nav a {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 16px 20px;
    color: var(--muted);
    text-decoration: none;
    font-size: 11px;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    border-bottom: 2px solid transparent;
    white-space: nowrap;
    transition: all 0.2s;
  }
  nav a:hover { color: var(--text); border-bottom-color: var(--accent); }
  nav a.active { color: var(--accent); border-bottom-color: var(--accent); }
  nav a .num {
    width: 20px; height: 20px;
    background: rgba(0,212,255,0.1);
    border: 1px solid rgba(0,212,255,0.2);
    border-radius: 3px;
    display: flex; align-items: center; justify-content: center;
    font-size: 10px; color: var(--accent);
  }

  /* ‚îÄ‚îÄ MAIN ‚îÄ‚îÄ */
  main {
    position: relative;
    z-index: 5;
    padding: 60px;
    display: flex;
    flex-direction: column;
    gap: 80px;
  }

  /* ‚îÄ‚îÄ SECTION ‚îÄ‚îÄ */
  .section {
    scroll-margin-top: 60px;
  }

  .section-header {
    display: flex;
    align-items: flex-start;
    gap: 24px;
    margin-bottom: 32px;
  }

  .section-number {
    font-family: 'Unbounded', sans-serif;
    font-size: 11px;
    font-weight: 700;
    color: var(--accent);
    background: rgba(0,212,255,0.08);
    border: 1px solid rgba(0,212,255,0.15);
    border-radius: 4px;
    padding: 6px 10px;
    letter-spacing: 0.1em;
    flex-shrink: 0;
    margin-top: 4px;
  }

  .section-title-group h2 {
    font-family: 'Unbounded', sans-serif;
    font-size: clamp(18px, 2.5vw, 28px);
    font-weight: 700;
    color: #fff;
    margin-bottom: 6px;
  }

  .section-title-group p {
    font-size: 12px;
    color: var(--muted);
    line-height: 1.6;
    max-width: 600px;
  }

  /* ‚îÄ‚îÄ DIAGRAM CARD ‚îÄ‚îÄ */
  .diagram-card {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 12px;
    overflow: hidden;
    position: relative;
  }

  .diagram-card::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, var(--accent), transparent);
    opacity: 0.5;
  }

  .diagram-toolbar {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 14px 20px;
    border-bottom: 1px solid var(--border);
    background: rgba(0,0,0,0.2);
  }

  .toolbar-dots { display: flex; gap: 6px; }
  .toolbar-dots span {
    width: 10px; height: 10px; border-radius: 50%;
  }
  .toolbar-dots span:nth-child(1) { background: #ff5f57; }
  .toolbar-dots span:nth-child(2) { background: #febc2e; }
  .toolbar-dots span:nth-child(3) { background: #28c840; }

  .toolbar-name {
    font-size: 11px;
    color: var(--muted);
    letter-spacing: 0.08em;
  }

  .diagram-body {
    padding: 32px;
    overflow-x: auto;
  }

  /* ‚îÄ‚îÄ MERMAID THEME OVERRIDES ‚îÄ‚îÄ */
  .mermaid {
    display: flex;
    justify-content: center;
  }

  /* ‚îÄ‚îÄ LEGEND ‚îÄ‚îÄ */
  .legend {
    display: flex;
    flex-wrap: wrap;
    gap: 16px;
    margin-top: 24px;
    padding-top: 24px;
    border-top: 1px solid var(--border);
  }
  .legend-item {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 11px;
    color: var(--muted);
  }
  .legend-dot {
    width: 10px; height: 10px; border-radius: 2px;
  }

  /* ‚îÄ‚îÄ FOOTER ‚îÄ‚îÄ */
  footer {
    position: relative;
    z-index: 5;
    padding: 40px 60px;
    border-top: 1px solid var(--border);
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 11px;
    color: var(--muted);
  }

  @keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.3; }
  }

  /* scrollbar */
  ::-webkit-scrollbar { width: 6px; height: 6px; }
  ::-webkit-scrollbar-track { background: var(--bg); }
  ::-webkit-scrollbar-thumb { background: var(--border); border-radius: 3px; }
  ::-webkit-scrollbar-thumb:hover { background: var(--muted); }

  @media (max-width: 768px) {
    header, main, footer { padding: 30px 20px; }
    nav { padding: 0 20px; }
  }
</style>
</head>
<body>

<header>
  <div class="header-badge">
    <span class="badge-dot"></span>
    –ü—Ä–æ–µ–∫—Ç–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
  </div>
  <h1>–î–∏–∞–≥—Ä–∞–º–º—ã —Å–∏—Å—Ç–µ–º—ã<br>—É—á—ë—Ç–∞ —Å–∫–ª–∞–¥–∞ –†–≠–ö</h71>
  <p class="subtitle"></p>
</header>

<nav>
  <a href="#er" class="active"><span class="num">1</span>ER-–¥–∏–∞–≥—Ä–∞–º–º–∞</a>
  <a href="#uml"><span class="num">2</span>UML –∫–ª–∞—Å—Å–æ–≤</a>
  <a href="#usecase"><span class="num">3</span>–í–∞—Ä–∏–∞–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a>
  <a href="#sequence"><span class="num">4</span>–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</a>
  <a href="#components"><span class="num">5</span>–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã</a>
  <a href="#packages"><span class="num">6</span>–ü–∞–∫–µ—Ç—ã</a>
  <a href="#activity"><span class="num">7</span>–î–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å</a>
</nav>

<main>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       1. ER –î–ò–ê–ì–†–ê–ú–ú–ê
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <section class="section" id="er">
    <div class="section-header">
      <span class="section-number">01</span>
      <div class="section-title-group">
        <h2>ER-–¥–∏–∞–≥—Ä–∞–º–º–∞</h2>
        <p>–°—É—â–Ω–æ—Å—Ç–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ —Å–≤—è–∑–∏ –º–µ–∂–¥—É –Ω–∏–º–∏. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç 14 —Ç–∞–±–ª–∏—Ü: —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –æ—Å—Ç–∞—Ç–∫–∏, –¥–æ–∫—É–º–µ–Ω—Ç—ã –∏ –∂—É—Ä–Ω–∞–ª –∞—É–¥–∏—Ç–∞.</p>
      </div>
    </div>
    <div class="diagram-card">
      <div class="diagram-toolbar">
        <div class="toolbar-dots"><span></span><span></span><span></span></div>
        <span class="toolbar-name">entity-relationship-diagram.mermaid</span>
        <span></span>
      </div>
      <div class="diagram-body">
        <div class="mermaid">
erDiagram
    COMPONENT_CATEGORIES {
        int id PK
        string name
        string code
        string description
        datetime created_at
    }
    MANUFACTURERS {
        int id PK
        string name
        string country
        string website
        datetime created_at
    }
    SUPPLIERS {
        int id PK
        string name
        string contact_name
        string phone
        string email
        string inn
        bool is_active
        datetime created_at
    }
    STORAGE_LOCATIONS {
        int id PK
        string code
        string rack
        int shelf
        int cell
        bool is_active
        datetime created_at
    }
    COMPONENTS {
        int id PK
        string part_number
        string name
        int category_id FK
        int manufacturer_id FK
        string package
        string unit
        float min_stock
        float price_rub
        bool is_active
        datetime created_at
    }
    STOCKS {
        int id PK
        int component_id FK
        int location_id FK
        float quantity
        float reserved
        datetime updated_at
    }
    RECEIPTS {
        int id PK
        string number
        int supplier_id FK
        string status
        string invoice_number
        string created_by
        datetime received_at
        datetime created_at
    }
    RECEIPT_ITEMS {
        int id PK
        int receipt_id FK
        int component_id FK
        int location_id FK
        float quantity
        float price_rub
    }
    ISSUES {
        int id PK
        string number
        string department
        string requester
        string status
        string purpose
        string created_by
        datetime issued_at
        datetime created_at
    }
    ISSUE_ITEMS {
        int id PK
        int issue_id FK
        int component_id FK
        int location_id FK
        float quantity
    }
    INVENTORIES {
        int id PK
        string number
        string status
        string created_by
        datetime started_at
        datetime finished_at
    }
    INVENTORY_ITEMS {
        int id PK
        int inventory_id FK
        int component_id FK
        int location_id FK
        float expected_quantity
        float actual_quantity
        float discrepancy
    }
    AUDIT_LOGS {
        int id PK
        string action_type
        string entity_type
        int entity_id
        int component_id FK
        int location_id FK
        float quantity_before
        float quantity_after
        string performed_by
        datetime created_at
    }

    COMPONENT_CATEGORIES ||--o{ COMPONENTS : "–∫–∞—Ç–µ–≥–æ—Ä–∏—è"
    MANUFACTURERS ||--o{ COMPONENTS : "–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å"
    COMPONENTS ||--o{ STOCKS : "–æ—Å—Ç–∞—Ç–∫–∏"
    STORAGE_LOCATIONS ||--o{ STOCKS : "–º–µ—Å—Ç–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è"
    SUPPLIERS ||--o{ RECEIPTS : "–ø–æ—Å—Ç–∞–≤—â–∏–∫"
    RECEIPTS ||--|{ RECEIPT_ITEMS : "–ø–æ–∑–∏—Ü–∏–∏"
    COMPONENTS ||--o{ RECEIPT_ITEMS : "–∫–æ–º–ø–æ–Ω–µ–Ω—Ç"
    STORAGE_LOCATIONS ||--o{ RECEIPT_ITEMS : "—è—á–µ–π–∫–∞"
    ISSUES ||--|{ ISSUE_ITEMS : "–ø–æ–∑–∏—Ü–∏–∏"
    COMPONENTS ||--o{ ISSUE_ITEMS : "–∫–æ–º–ø–æ–Ω–µ–Ω—Ç"
    STORAGE_LOCATIONS ||--o{ ISSUE_ITEMS : "—è—á–µ–π–∫–∞"
    INVENTORIES ||--|{ INVENTORY_ITEMS : "–ø–æ–∑–∏—Ü–∏–∏"
    COMPONENTS ||--o{ INVENTORY_ITEMS : "–∫–æ–º–ø–æ–Ω–µ–Ω—Ç"
    STORAGE_LOCATIONS ||--o{ INVENTORY_ITEMS : "—è—á–µ–π–∫–∞"
    COMPONENTS ||--o{ AUDIT_LOGS : "–∞—É–¥–∏—Ç"
    STORAGE_LOCATIONS ||--o{ AUDIT_LOGS : "–∞—É–¥–∏—Ç"
        </div>
      </div>
    </div>
  </section>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       2. UML –î–ò–ê–ì–†–ê–ú–ú–ê –ö–õ–ê–°–°–û–í
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <section class="section" id="uml">
    <div class="section-header">
      <span class="section-number">02</span>
      <div class="section-title-group">
        <h2>UML-–¥–∏–∞–≥—Ä–∞–º–º–∞ –∫–ª–∞—Å—Å–æ–≤</h2>
        <p>–ö–ª–∞—Å—Å—ã —Å–∏—Å—Ç–µ–º—ã, –∏—Ö –∞—Ç—Ä–∏–±—É—Ç—ã, –º–µ—Ç–æ–¥—ã –∏ —Å–≤—è–∑–∏. –û—Ç—Ä–∞–∂–∞–µ—Ç Python-–º–æ–¥–µ–ª–∏ SQLAlchemy –∏ Pydantic-—Å—Ö–µ–º—ã.</p>
      </div>
    </div>
    <div class="diagram-card">
      <div class="diagram-toolbar">
        <div class="toolbar-dots"><span></span><span></span><span></span></div>
        <span class="toolbar-name">class-diagram.mermaid</span>
        <span></span>
      </div>
      <div class="diagram-body">
        <div class="mermaid">
classDiagram
    class ComponentCategory {
        +int id
        +str name
        +str code
        +str description
        +datetime created_at
        +list~Component~ components
    }
    class Manufacturer {
        +int id
        +str name
        +str country
        +str website
        +list~Component~ components
    }
    class Supplier {
        +int id
        +str name
        +str contact_name
        +str phone
        +str email
        +str inn
        +bool is_active
        +list~Receipt~ receipts
    }
    class StorageLocation {
        +int id
        +str code
        +str rack
        +int shelf
        +int cell
        +bool is_active
        +list~Stock~ stocks
    }
    class Component {
        +int id
        +str part_number
        +str name
        +str package
        +str unit
        +float min_stock
        +float price_rub
        +bool is_active
        +list~Stock~ stocks
        +list~ReceiptItem~ receipt_items
        +list~IssueItem~ issue_items
        +list~InventoryItem~ inventory_items
    }
    class Stock {
        +int id
        +float quantity
        +float reserved
        +datetime updated_at
        +available() float
    }
    class Receipt {
        +int id
        +str number
        +ReceiptStatus status
        +str invoice_number
        +str created_by
        +datetime received_at
        +confirm() void
        +cancel() void
    }
    class ReceiptItem {
        +int id
        +float quantity
        +float price_rub
    }
    class Issue {
        +int id
        +str number
        +IssueStatus status
        +str department
        +str requester
        +str purpose
        +confirm() void
        +cancel() void
    }
    class IssueItem {
        +int id
        +float quantity
    }
    class Inventory {
        +int id
        +str number
        +InventoryStatus status
        +datetime started_at
        +datetime finished_at
        +complete() void
    }
    class InventoryItem {
        +int id
        +float expected_quantity
        +float actual_quantity
        +float discrepancy
        +calc_discrepancy() float
    }
    class AuditLog {
        +int id
        +AuditActionType action_type
        +str entity_type
        +int entity_id
        +float quantity_before
        +float quantity_after
        +str performed_by
        +datetime created_at
    }
    class WarehouseService {
        +stock_upsert(db, comp_id, loc_id, delta) Stock
        +write_audit(db, action, entity) void
        +get_stock_report(db) list
        +check_availability(db, items) bool
    }

    ComponentCategory "1" --o "N" Component : category
    Manufacturer "1" --o "N" Component : manufacturer
    Component "1" --o "N" Stock : has
    StorageLocation "1" --o "N" Stock : located_at
    Supplier "1" --o "N" Receipt : supplied_by
    Receipt "1" *-- "N" ReceiptItem : contains
    Component "1" --o "N" ReceiptItem : component
    StorageLocation "1" --o "N" ReceiptItem : destination
    Issue "1" *-- "N" IssueItem : contains
    Component "1" --o "N" IssueItem : component
    StorageLocation "1" --o "N" IssueItem : source
    Inventory "1" *-- "N" InventoryItem : contains
    Component "1" --o "N" InventoryItem : component
    WarehouseService ..> Stock : manages
    WarehouseService ..> AuditLog : writes
        </div>
      </div>
    </div>
  </section>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       3. –í–ê–†–ò–ê–ù–¢–´ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <section class="section" id="usecase">
    <div class="section-header">
      <span class="section-number">03</span>
      <div class="section-title-group">
        <h2>–î–∏–∞–≥—Ä–∞–º–º–∞ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</h2>
        <p>–ê–∫—Ç–æ—Ä—ã —Å–∏—Å—Ç–µ–º—ã –∏ –∏—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è. –ö–ª–∞–¥–æ–≤—â–∏–∫, —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –∏ –∞—É–¥–∏—Ç–æ—Ä ‚Äî —Ç—Ä–∏ —Ä–æ–ª–∏ —Å —Ä–∞–∑–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏.</p>
      </div>
    </div>
    <div class="diagram-card">
      <div class="diagram-toolbar">
        <div class="toolbar-dots"><span></span><span></span><span></span></div>
        <span class="toolbar-name">use-case-diagram.mermaid</span>
        <span></span>
      </div>
      <div class="diagram-body">
        <div class="mermaid">
graph LR
    subgraph –ê–∫—Ç–æ—Ä—ã
        A1["üë§ –ö–ª–∞–¥–æ–≤—â–∏–∫"]
        A2["üëî –†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å"]
        A3["üîç –ê—É–¥–∏—Ç–æ—Ä"]
    end

    subgraph –°–£–°-–†–≠–ö ["üè≠ –°–∏—Å—Ç–µ–º–∞ —É—á—ë—Ç–∞ —Å–∫–ª–∞–¥–∞ –†–≠–ö"]
        subgraph –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ ["üìã –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞–º–∏"]
            UC1["–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–æ–º\n–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤"]
            UC2["–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º–∏"]
            UC3["–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —è—á–µ–π–∫–∞–º–∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è"]
            UC4["–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏"]
        end

        subgraph –î–≤–∏–∂–µ–Ω–∏–µ ["üì¶ –î–≤–∏–∂–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤"]
            UC5["–û—Ñ–æ—Ä–º–∏—Ç—å –ø—Ä–∏—Ö–æ–¥–Ω—É—é\n–Ω–∞–∫–ª–∞–¥–Ω—É—é"]
            UC6["–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –ø—Ä–∏—Ö–æ–¥"]
            UC7["–û—Ñ–æ—Ä–º–∏—Ç—å —Ä–∞—Å—Ö–æ–¥–Ω—É—é\n–Ω–∞–∫–ª–∞–¥–Ω—É—é"]
            UC8["–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –≤—ã–¥–∞—á—É"]
            UC9["–°–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Å—Ç–∞—Ç–æ–∫"]
        end

        subgraph –ò–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è ["üî¢ –ò–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è"]
            UC10["–ü—Ä–æ–≤–µ—Å—Ç–∏ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—é"]
            UC11["–ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è"]
        end

        subgraph –û—Ç—á—ë—Ç—ã ["üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –∞—É–¥–∏—Ç"]
            UC12["–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –æ—Å—Ç–∞—Ç–∫–∏"]
            UC13["–û—Ç—á—ë—Ç –æ –¥–µ—Ñ–∏—Ü–∏—Ç–µ"]
            UC14["–ò—Å—Ç–æ—Ä–∏—è –¥–≤–∏–∂–µ–Ω–∏–π"]
            UC15["–ñ—É—Ä–Ω–∞–ª –∞—É–¥–∏—Ç–∞"]
        end
    end

    A1 --> UC1
    A1 --> UC2
    A1 --> UC3
    A1 --> UC4
    A1 --> UC5
    A1 --> UC6
    A1 --> UC7
    A1 --> UC8
    A1 --> UC9
    A1 --> UC10
    A1 --> UC11
    A1 --> UC12

    A2 --> UC12
    A2 --> UC13
    A2 --> UC14
    A2 --> UC6
    A2 --> UC8

    A3 --> UC15
    A3 --> UC14
    A3 --> UC12
    A3 --> UC13

    UC10 -.->|include| UC11
    UC5 -.->|extend| UC6
    UC7 -.->|extend| UC8

    style –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ fill:#1a1a2e,stroke:#7c3aed,color:#e2e8f0
    style –î–≤–∏–∂–µ–Ω–∏–µ fill:#0d1b2a,stroke:#00d4ff,color:#e2e8f0
    style –ò–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è fill:#0d2818,stroke:#10b981,color:#e2e8f0
    style –û—Ç—á—ë—Ç—ã fill:#1a0d0d,stroke:#f59e0b,color:#e2e8f0
        </div>
      </div>
    </div>
  </section>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       4. –î–ò–ê–ì–†–ê–ú–ú–ê –ü–û–°–õ–ï–î–û–í–ê–¢–ï–õ–¨–ù–û–°–¢–ò
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <section class="section" id="sequence">
    <div class="section-header">
      <span class="section-number">04</span>
      <div class="section-title-group">
        <h2>–î–∏–∞–≥—Ä–∞–º–º—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</h2>
        <p>–í—Ä–µ–º–µ–Ω–Ω–æ–π –ø–æ—Ä—è–¥–æ–∫ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π –º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–∞–º–∏ –¥–ª—è –∫–ª—é—á–µ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤: –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø—Ä–∏—Ö–æ–¥–∞ –∏ –≤—ã–¥–∞—á–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.</p>
      </div>
    </div>

    <div class="diagram-card" style="margin-bottom:24px">
      <div class="diagram-toolbar">
        <div class="toolbar-dots"><span></span><span></span><span></span></div>
        <span class="toolbar-name">sequence-receipt-confirm.mermaid</span>
        <span></span>
      </div>
      <div class="diagram-body">
        <div class="mermaid">
sequenceDiagram
    actor –ö–ª–∞–¥–æ–≤—â–∏–∫
    participant API as FastAPI\n(main.py)
    participant DB as SQLAlchemy\n(database)
    participant Stock as Stock\nTable
    participant Audit as AuditLog\nTable

    –ö–ª–∞–¥–æ–≤—â–∏–∫->>API: POST /receipts\n{supplier_id, items[]}

    API->>DB: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å supplier_id
    DB-->>API: –ü–æ—Å—Ç–∞–≤—â–∏–∫ –Ω–∞–π–¥–µ–Ω

    API->>DB: –°–æ–∑–¥–∞—Ç—å Receipt (—Å—Ç–∞—Ç—É—Å: draft)
    loop –¥–ª—è –∫–∞–∂–¥–æ–π –ø–æ–∑–∏—Ü–∏–∏
        API->>DB: –°–æ–∑–¥–∞—Ç—å ReceiptItem
    end
    DB-->>API: Receipt —Å–æ–∑–¥–∞–Ω (id=1)
    API-->>–ö–ª–∞–¥–æ–≤—â–∏–∫: 201 Created {id:1, status:"draft"}

    –ö–ª–∞–¥–æ–≤—â–∏–∫->>API: POST /receipts/1/confirm\n{performed_by: "–ò–≤–∞–Ω–æ–≤"}

    API->>DB: –ü–æ–ª—É—á–∏—Ç—å Receipt id=1
    DB-->>API: Receipt (status=draft)
    API->>API: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å status == draft ‚úì

    loop –¥–ª—è –∫–∞–∂–¥–æ–π –ø–æ–∑–∏—Ü–∏–∏ –Ω–∞–∫–ª–∞–¥–Ω–æ–π
        API->>Stock: SELECT –æ—Å—Ç–∞—Ç–æ–∫\n(component_id, location_id)
        Stock-->>API: quantity_before
        API->>Stock: UPDATE quantity\n+= item.quantity
        API->>Audit: INSERT audit_log\n(action=receipt,\nbefore, after, operator)
        Audit-->>API: –ó–∞–ø–∏—Å—å —Å–æ–∑–¥–∞–Ω–∞
    end

    API->>DB: UPDATE Receipt\nstatus=confirmed\nreceived_at=now()
    DB-->>API: OK
    API-->>–ö–ª–∞–¥–æ–≤—â–∏–∫: 200 OK {status:"confirmed"}
        </div>
      </div>
    </div>

    <div class="diagram-card">
      <div class="diagram-toolbar">
        <div class="toolbar-dots"><span></span><span></span><span></span></div>
        <span class="toolbar-name">sequence-issue-confirm.mermaid</span>
        <span></span>
      </div>
      <div class="diagram-body">
        <div class="mermaid">
sequenceDiagram
    actor –ö–ª–∞–¥–æ–≤—â–∏–∫
    participant API as FastAPI\n(main.py)
    participant DB as SQLAlchemy
    participant Stock as Stock\nTable
    participant Audit as AuditLog\nTable

    –ö–ª–∞–¥–æ–≤—â–∏–∫->>API: POST /issues\n{department, items[]}
    API->>DB: –°–æ–∑–¥–∞—Ç—å Issue (draft)\n+ IssueItems
    API-->>–ö–ª–∞–¥–æ–≤—â–∏–∫: 201 Created

    –ö–ª–∞–¥–æ–≤—â–∏–∫->>API: POST /issues/1/confirm

    API->>DB: –ü–æ–ª—É—á–∏—Ç—å Issue + Items
    DB-->>API: Issue (draft)

    loop –¥–ª—è –∫–∞–∂–¥–æ–π –ø–æ–∑–∏—Ü–∏–∏
        API->>Stock: SELECT quantity\n(comp_id, loc_id)
        Stock-->>API: quantity_current

        alt quantity >= requested
            API->>Stock: UPDATE quantity\n-= item.quantity
            API->>Audit: INSERT audit_log\n(action=issue)
            Audit-->>API: OK
        else quantity < requested
            API-->>–ö–ª–∞–¥–æ–≤—â–∏–∫: 400 Bad Request\n"–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ: –¥–æ—Å—Ç—É–ø–Ω–æ X,\n–∑–∞–ø—Ä–æ—à–µ–Ω–æ Y"
            Note over API,Stock: –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –æ—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç—Å—è,\n–æ—Å—Ç–∞—Ç–∫–∏ –Ω–µ –∏–∑–º–µ–Ω–µ–Ω—ã
        end
    end

    API->>DB: UPDATE Issue\nstatus=confirmed, issued_at=now()
    API-->>–ö–ª–∞–¥–æ–≤—â–∏–∫: 200 OK {status:"confirmed"}
        </div>
      </div>
    </div>
  </section>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       5. –î–ò–ê–ì–†–ê–ú–ú–ê –ö–û–ú–ü–û–ù–ï–ù–¢–û–í
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <section class="section" id="components">
    <div class="section-header">
      <span class="section-number">05</span>
      <div class="section-title-group">
        <h2>–î–∏–∞–≥—Ä–∞–º–º–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</h2>
        <p>–ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É –Ω–∏–º–∏.</p>
      </div>
    </div>
    <div class="diagram-card">
      <div class="diagram-toolbar">
        <div class="toolbar-dots"><span></span><span></span><span></span></div>
        <span class="toolbar-name">component-diagram.mermaid</span>
        <span></span>
      </div>
      <div class="diagram-body">
        <div class="mermaid">
graph TB
    subgraph Client ["üåê –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —É—Ä–æ–≤–µ–Ω—å"]
        SWAGGER["Swagger UI\n/docs"]
        REDOC["ReDoc\n/redoc"]
        HTTPCLIENT["HTTP-–∫–ª–∏–µ–Ω—Ç\n(curl / Postman)"]
        FRONTEND["–í–Ω–µ—à–Ω–µ–µ\n–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"]
    end

    subgraph AppLayer ["‚öôÔ∏è –£—Ä–æ–≤–µ–Ω—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Äî main.py"]
        subgraph Routes ["–ú–∞—Ä—à—Ä—É—Ç—ã (Routers)"]
            R1["üìã /categories\n/manufacturers\n/suppliers\n/locations"]
            R2["üîå /components"]
            R3["üì¶ /stocks"]
            R4["üì• /receipts"]
            R5["üì§ /issues"]
            R6["üî¢ /inventories"]
            R7["üìä /reports\n/audit"]
        end
        BL["–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞\nstock_upsert()\nwrite_audit()\nget_or_404()"]
        CORS["CORS\nMiddleware"]
    end

    subgraph DataLayer ["üíæ –£—Ä–æ–≤–µ–Ω—å –¥–∞–Ω–Ω—ã—Ö"]
        subgraph Models ["models.py ‚Äî SQLAlchemy ORM"]
            M1["Component\nComponentCategory\nManufacturer"]
            M2["Stock\nStorageLocation\nSupplier"]
            M3["Receipt / ReceiptItem\nIssue / IssueItem"]
            M4["Inventory / InventoryItem\nAuditLog"]
        end
        subgraph Schemas ["schemas.py ‚Äî Pydantic"]
            S1["ComponentCreate/Read\nStockAdjust"]
            S2["ReceiptCreate\nIssueCreate\nInventoryCreate"]
            S3["AuditLogRead\nStockReport"]
        end
        subgraph DB ["database.py"]
            ENGINE["SQLAlchemy\nEngine"]
            SESSION["SessionLocal\nget_db()"]
            INIT["init_db()\n_seed()"]
        end
    end

    subgraph Storage ["üóÑÔ∏è –•—Ä–∞–Ω–∏–ª–∏—â–µ"]
        SQLITE[("SQLite\nwarehouse.db")]
        POSTGRES[("PostgreSQL\n(production)")]
    end

    SWAGGER --> CORS
    REDOC --> CORS
    HTTPCLIENT --> CORS
    FRONTEND --> CORS

    CORS --> R1 & R2 & R3 & R4 & R5 & R6 & R7
    R1 & R2 & R3 & R4 & R5 & R6 & R7 --> BL

    BL --> M1 & M2 & M3 & M4
    BL --> S1 & S2 & S3

    M1 & M2 & M3 & M4 --> SESSION
    SESSION --> ENGINE
    ENGINE --> SQLITE
    ENGINE -.->|"swap\nDATABASE_URL"| POSTGRES
    INIT --> SESSION

    style Client fill:#0d1b2a,stroke:#00d4ff,color:#e2e8f0
    style AppLayer fill:#1a1a2e,stroke:#7c3aed,color:#e2e8f0
    style DataLayer fill:#0d2818,stroke:#10b981,color:#e2e8f0
    style Storage fill:#1a0d0d,stroke:#f59e0b,color:#e2e8f0
        </div>
      </div>
    </div>
  </section>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       6. –î–ò–ê–ì–†–ê–ú–ú–ê –ü–ê–ö–ï–¢–û–í
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <section class="section" id="packages">
    <div class="section-header">
      <span class="section-number">06</span>
      <div class="section-title-group">
        <h2>–î–∏–∞–≥—Ä–∞–º–º–∞ –ø–∞–∫–µ—Ç–æ–≤</h2>
        <p>–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –º–æ–¥—É–ª–µ–π –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –º–µ–∂–¥—É –Ω–∏–º–∏. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–∞–∫–µ—Ç—ã Python –∏ –≤–Ω–µ—à–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏.</p>
      </div>
    </div>
    <div class="diagram-card">
      <div class="diagram-toolbar">
        <div class="toolbar-dots"><span></span><span></span><span></span></div>
        <span class="toolbar-name">package-diagram.mermaid</span>
        <span></span>
      </div>
      <div class="diagram-body">
        <div class="mermaid">
graph TD
    subgraph External ["üì¶ –í–Ω–µ—à–Ω–∏–µ –ø–∞–∫–µ—Ç—ã (pip)"]
        PKG1["fastapi\n0.109+"]
        PKG2["uvicorn\n0.27+"]
        PKG3["sqlalchemy\n2.0+"]
        PKG4["pydantic\n2.6+"]
        PKG5["python\nbuiltins\n(json, datetime,\nenum, typing)"]
    end

    subgraph App ["üèóÔ∏è –ü–∞–∫–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: warehouse_api/"]

        subgraph Core ["–Ø–¥—Ä–æ"]
            MAIN["main.py\n‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\nFastAPI app\nAll endpoints\nBusiness logic\nAudit writer"]
        end

        subgraph Data ["–î–∞–Ω–Ω—ã–µ"]
            MODELS["models.py\n‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\nBase (ORM)\nComponentCategory\nManufacturer\nSupplier\nStorageLocation\nComponent\nStock\nReceipt / Item\nIssue / Item\nInventory / Item\nAuditLog\nEnums"]
            SCHEMAS["schemas.py\n‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\nCreate schemas\nRead schemas\nUpdate schemas\nReport schemas"]
            DATABASE["database.py\n‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\ncreate_engine()\nSessionLocal\nget_db()\ninit_db()\n_seed()"]
        end

        subgraph Config ["–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è"]
            REQ["requirements.txt\n‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\nDependencies list"]
            README["README.md\n‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\nDocumentation"]
        end

        subgraph Generated ["–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ"]
            WAREHOUSEDB[("warehouse.db\nSQLite file")]
        end
    end

    PKG1 --> MAIN
    PKG2 --> MAIN
    PKG3 --> MODELS
    PKG3 --> DATABASE
    PKG4 --> SCHEMAS
    PKG5 --> MAIN

    MAIN --> MODELS
    MAIN --> SCHEMAS
    MAIN --> DATABASE
    SCHEMAS --> MODELS
    DATABASE --> MODELS
    DATABASE --> WAREHOUSEDB

    style External fill:#1a0d2e,stroke:#7c3aed,color:#e2e8f0
    style App fill:#091520,stroke:#00d4ff,color:#e2e8f0
    style Core fill:#0d2030,stroke:#00d4ff,color:#e2e8f0
    style Data fill:#0d2030,stroke:#10b981,color:#e2e8f0
    style Config fill:#0d2030,stroke:#64748b,color:#e2e8f0
    style Generated fill:#1a1a0d,stroke:#f59e0b,color:#e2e8f0
        </div>
      </div>
    </div>
  </section>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       7. –î–ò–ê–ì–†–ê–ú–ú–ê –î–ï–Ø–¢–ï–õ–¨–ù–û–°–¢–ò
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <section class="section" id="activity">
    <div class="section-header">
      <span class="section-number">07</span>
      <div class="section-title-group">
        <h2>–î–∏–∞–≥—Ä–∞–º–º—ã –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</h2>
        <p>–ü–æ—Ç–æ–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –∫–ª—é—á–µ–≤—ã—Ö –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤: –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–∏—Ö–æ–¥–∞/—Ä–∞—Å—Ö–æ–¥–∞ –∏ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏–∏.</p>
      </div>
    </div>

    <div class="diagram-card" style="margin-bottom:24px">
      <div class="diagram-toolbar">
        <div class="toolbar-dots"><span></span><span></span><span></span></div>
        <span class="toolbar-name">activity-receipt-issue.mermaid</span>
        <span></span>
      </div>
      <div class="diagram-body">
        <div class="mermaid">
flowchart TD
    START(["üü¢ –ù–∞—á–∞–ª–æ"]) --> CHOOSE{–¢–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏?}

    CHOOSE -->|–ü—Ä–∏—Ö–æ–¥| R1["–°–æ–∑–¥–∞—Ç—å –ø—Ä–∏—Ö–æ–¥–Ω—É—é\n–Ω–∞–∫–ª–∞–¥–Ω—É—é (—á–µ—Ä–Ω–æ–≤–∏–∫)"]
    CHOOSE -->|–†–∞—Å—Ö–æ–¥| I1["–°–æ–∑–¥–∞—Ç—å —Ä–∞—Å—Ö–æ–¥–Ω—É—é\n–Ω–∞–∫–ª–∞–¥–Ω—É—é (—á–µ—Ä–Ω–æ–≤–∏–∫)"]

    R1 --> R2["–î–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∏—Ü–∏–∏:\n–∫–æ–º–ø–æ–Ω–µ–Ω—Ç, —è—á–µ–π–∫–∞, –∫–æ–ª-–≤–æ, —Ü–µ–Ω–∞"]
    R2 --> R3{–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å\n–Ω–∞–∫–ª–∞–¥–Ω—É—é?}
    R3 -->|–ù–µ—Ç ‚Äî –æ—Ç–º–µ–Ω–∏—Ç—å| R4["–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å:\nCANCELLED"]
    R3 -->|–î–∞| R5{–°—Ç–∞—Ç—É—Å ==\ndraft?}
    R5 -->|–ù–µ—Ç| R6["‚ùå –û—à–∏–±–∫–∞ 400:\n–ù–∞–∫–ª–∞–¥–Ω–∞—è —É–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–∞"]
    R5 -->|–î–∞| R7["–î–ª—è –∫–∞–∂–¥–æ–π –ø–æ–∑–∏—Ü–∏–∏:"]

    R7 --> R8["–ù–∞–π—Ç–∏/—Å–æ–∑–¥–∞—Ç—å Stock\n(component_id, location_id)"]
    R8 --> R9["quantity += item.quantity"]
    R9 --> R10["–ó–∞–ø–∏—Å–∞—Ç—å –≤ AuditLog\n(action=receipt)"]
    R10 --> R11{–ï—â—ë\n–ø–æ–∑–∏—Ü–∏–∏?}
    R11 -->|–î–∞| R7
    R11 -->|–ù–µ—Ç| R12["–°—Ç–∞—Ç—É—Å ‚Üí CONFIRMED\nreceived_at = now()"]
    R12 --> END_R(["‚úÖ –ü—Ä–∏—Ö–æ–¥ –ø—Ä–æ–≤–µ–¥—ë–Ω"])

    I1 --> I2["–î–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∏—Ü–∏–∏:\n–∫–æ–º–ø–æ–Ω–µ–Ω—Ç, —è—á–µ–π–∫–∞, –∫–æ–ª-–≤–æ"]
    I2 --> I3{–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å\n–Ω–∞–∫–ª–∞–¥–Ω—É—é?}
    I3 -->|–ù–µ—Ç ‚Äî –æ—Ç–º–µ–Ω–∏—Ç—å| I4["–°—Ç–∞—Ç—É—Å ‚Üí CANCELLED"]
    I3 -->|–î–∞| I5["–î–ª—è –∫–∞–∂–¥–æ–π –ø–æ–∑–∏—Ü–∏–∏:"]

    I5 --> I6["–ü–æ–ª—É—á–∏—Ç—å Stock\n(component_id, location_id)"]
    I6 --> I7{quantity >=\n—Ä–∞—Å—Ö–æ–¥?}
    I7 -->|–ù–µ—Ç| I8["‚ùå –û—à–∏–±–∫–∞ 400:\n–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤\n–û—Ç–∫–∞—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏"]
    I7 -->|–î–∞| I9["quantity -= item.quantity"]
    I9 --> I10["–ó–∞–ø–∏—Å–∞—Ç—å –≤ AuditLog\n(action=issue)"]
    I10 --> I11{–ï—â—ë\n–ø–æ–∑–∏—Ü–∏–∏?}
    I11 -->|–î–∞| I5
    I11 -->|–ù–µ—Ç| I12["–°—Ç–∞—Ç—É—Å ‚Üí CONFIRMED\nissued_at = now()"]
    I12 --> END_I(["‚úÖ –†–∞—Å—Ö–æ–¥ –ø—Ä–æ–≤–µ–¥—ë–Ω"])

    style START fill:#10b981,color:#fff,stroke:none
    style END_R fill:#10b981,color:#fff,stroke:none
    style END_I fill:#10b981,color:#fff,stroke:none
    style R6 fill:#7f1d1d,color:#fca5a5,stroke:#ef4444
    style I8 fill:#7f1d1d,color:#fca5a5,stroke:#ef4444
        </div>
      </div>
    </div>

    <div class="diagram-card">
      <div class="diagram-toolbar">
        <div class="toolbar-dots"><span></span><span></span><span></span></div>
        <span class="toolbar-name">activity-inventory.mermaid</span>
        <span></span>
      </div>
      <div class="diagram-body">
        <div class="mermaid">
flowchart TD
    INV_START(["üü¢ –ù–∞—á–∞–ª–æ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏–∏"]) --> INV1["–°–æ–∑–¥–∞—Ç—å –∞–∫—Ç –∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏–∏\n(—Å—Ç–∞—Ç—É—Å: in_progress)"]
    INV1 --> INV2["–ö–ª–∞–¥–æ–≤—â–∏–∫ —Ñ–∏–∑–∏—á–µ—Å–∫–∏\n–ø–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã"]
    INV2 --> INV3["–í–Ω–æ—Å–∏—Ç —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ\n–æ—Å—Ç–∞—Ç–∫–∏ –≤ —Å–∏—Å—Ç–µ–º—É"]
    INV3 --> INV4["–î–ª—è –∫–∞–∂–¥–æ–π –ø–æ–∑–∏—Ü–∏–∏ –∞–∫—Ç–∞:"]

    INV4 --> INV5["–ü–æ–ª—É—á–∏—Ç—å —É—á—ë—Ç–Ω—ã–π –æ—Å—Ç–∞—Ç–æ–∫\n–∏–∑ —Ç–∞–±–ª–∏—Ü—ã stocks"]
    INV5 --> INV6["expected = stocks.quantity\nactual = input.actual_quantity"]
    INV6 --> INV7["discrepancy = actual - expected"]
    INV7 --> INV8{discrepancy\n== 0?}

    INV8 -->|–ù–µ—Ç ‚Äî –µ—Å—Ç—å —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ| INV9["–û–±–Ω–æ–≤–∏—Ç—å stocks.quantity\n= actual_quantity"]
    INV9 --> INV10["–ó–∞–ø–∏—Å–∞—Ç—å –≤ AuditLog\n(action=inventory,\nbefore=expected,\nafter=actual)"]
    INV8 -->|–î–∞ ‚Äî —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è –Ω–µ—Ç| INV11["–ü–æ–∑–∏—Ü–∏—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π"]

    INV10 --> INV12{–ï—â—ë\n–ø–æ–∑–∏—Ü–∏–∏?}
    INV11 --> INV12

    INV12 -->|–î–∞| INV4
    INV12 -->|–ù–µ—Ç| INV13["–°—Ç–∞—Ç—É—Å ‚Üí COMPLETED\nfinished_at = now()"]
    INV13 --> INV14["–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á—ë—Ç\n–æ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è—Ö"]
    INV14 --> INV_END(["‚úÖ –ò–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞"])

    style INV_START fill:#10b981,color:#fff,stroke:none
    style INV_END fill:#10b981,color:#fff,stroke:none
    style INV9 fill:#1a0d2e,color:#c4b5fd,stroke:#7c3aed
    style INV10 fill:#0d1b2a,color:#93c5fd,stroke:#3b82f6
        </div>
      </div>
    </div>
  </section>

</main>

<footer>
  <span>–°–£–°-–†–≠–ö ¬∑ –°–∏—Å—Ç–µ–º–∞ —É—á—ë—Ç–∞ —Å–∫–ª–∞–¥–∞ —Ä–∞–¥–∏–æ—ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</span>
  <span>FastAPI ¬∑ SQLAlchemy ¬∑ SQLite ¬∑ Pydantic</span>
</footer>

<script>
  mermaid.initialize({
    startOnLoad: true,
    theme: 'dark',
    themeVariables: {
      darkMode: true,
      background: '#14141f',
      primaryColor: '#1e2a3a',
      primaryTextColor: '#e2e8f0',
      primaryBorderColor: '#00d4ff',
      lineColor: '#00d4ff',
      secondaryColor: '#1a1a2e',
      tertiaryColor: '#0d2818',
      edgeLabelBackground: '#14141f',
      clusterBkg: '#10101c',
      clusterBorder: '#2e2e4e',
      titleColor: '#ffffff',
      nodeTextColor: '#e2e8f0',
      attributeBackgroundColorEven: '#10101c',
      attributeBackgroundColorOdd: '#14141f',
      fontFamily: 'JetBrains Mono, monospace',
      fontSize: '13px',
    },
    er: {
      diagramPadding: 30,
      layoutDirection: 'TB',
      minEntityWidth: 100,
      minEntityHeight: 75,
      entityPadding: 15,
    },
    sequence: {
      actorMargin: 60,
      boxTextMargin: 8,
      noteMargin: 12,
      messageMargin: 40,
    },
    flowchart: {
      curve: 'basis',
      padding: 20,
    }
  });

  // Active nav link on scroll
  const sections = document.querySelectorAll('.section');
  const navLinks = document.querySelectorAll('nav a');

  const observer = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        navLinks.forEach(a => a.classList.remove('active'));
        const active = document.querySelector(`nav a[href="#${entry.target.id}"]`);
        if (active) active.classList.add('active');
      }
    });
  }, { threshold: 0.3 });

  sections.forEach(s => observer.observe(s));

  // Smooth scroll
  navLinks.forEach(a => {
    a.addEventListener('click', e => {
      e.preventDefault();
      const target = document.querySelector(a.getAttribute('href'));
      if (target) target.scrollIntoView({ behavior: 'smooth' });
    });
  });
</script>
</body>
</html>
