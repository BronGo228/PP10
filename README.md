–ë—Ä–æ–Ω–≥—É–ª–µ–µ–≤ –î–∞–Ω–∏–∏–ª –î–º–∏—Ç—Ä–∏–µ–≤–∏—á

–°—Ç—É–¥–µ–Ω—Ç –≥—Ä—É–ø–ø—ã - –ò–°-43

–°—Ä–æ–∫–∏ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –ø—Ä–∞–∫—Ç–∏–∫–∏ - 16.02.2026 –ø–æ 01.03.2026

–¢–µ–º–∞ –ø—Ä–∞–∫—Ç–∏–∫–∏ - –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤

# üì¶ –°–∫–ª–∞–¥ –†–≠–ö ‚Äî –°–∏—Å—Ç–µ–º–∞ –∞—É–¥–∏—Ç–∞ –∏ —É—á—ë—Ç–∞ —Å–∫–ª–∞–¥–∞ —Ä–∞–¥–∏–æ—ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

REST API –Ω–∞ –±–∞–∑–µ **FastAPI + SQLAlchemy + SQLite**.

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```
component_categories   ‚Äî –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (—Ä–µ–∑–∏—Å—Ç–æ—Ä—ã, –∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä—ã, –ò–° ‚Ä¶)
manufacturers          ‚Äî –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–∏
suppliers              ‚Äî –ø–æ—Å—Ç–∞–≤—â–∏–∫–∏
storage_locations      ‚Äî —è—á–µ–π–∫–∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è (—Å—Ç–µ–ª–ª–∞–∂ / –ø–æ–ª–∫–∞ / —è—á–µ–π–∫–∞)

components             ‚Äî –∫–∞—Ç–∞–ª–æ–≥ —Ä–∞–¥–∏–æ—ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
stocks                 ‚Äî —Ç–µ–∫—É—â–∏–π –æ—Å—Ç–∞—Ç–æ–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤ —è—á–µ–π–∫–µ

receipts               ‚Äî –ø—Ä–∏—Ö–æ–¥–Ω—ã–µ –Ω–∞–∫–ª–∞–¥–Ω—ã–µ
receipt_items          ‚Äî –ø–æ–∑–∏—Ü–∏–∏ –ø—Ä–∏—Ö–æ–¥–Ω–æ–π –Ω–∞–∫–ª–∞–¥–Ω–æ–π

issues                 ‚Äî —Ä–∞—Å—Ö–æ–¥–Ω—ã–µ –Ω–∞–∫–ª–∞–¥–Ω—ã–µ
issue_items            ‚Äî –ø–æ–∑–∏—Ü–∏–∏ —Ä–∞—Å—Ö–æ–¥–Ω–æ–π –Ω–∞–∫–ª–∞–¥–Ω–æ–π

inventories            ‚Äî –∞–∫—Ç—ã –∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏–∏
inventory_items        ‚Äî –ø–æ–∑–∏—Ü–∏–∏ –∞–∫—Ç–∞ (—É—á—ë—Ç–Ω—ã–π / —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –æ—Å—Ç–∞—Ç–æ–∫)

audit_logs             ‚Äî –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–π –∂—É—Ä–Ω–∞–ª –≤—Å–µ—Ö –¥–≤–∏–∂–µ–Ω–∏–π –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π
```

### ER-–¥–∏–∞–≥—Ä–∞–º–º–∞ (—É–ø—Ä–æ—â—ë–Ω–Ω–∞—è)

```
component_categories ‚îÄ‚îÄ< components >‚îÄ‚îÄ manufacturers
                              ‚îÇ
                          stocks ‚îÄ‚îÄ‚îÄ‚îÄ storage_locations
                              ‚îÇ
               ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
          receipt_items              issue_items
               ‚îÇ                        ‚îÇ
           receipts                  issues
               ‚îÇ
           suppliers
               ‚îÇ
          audit_logs ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ (–≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Å—Ç–∞—Ç–∫–æ–≤)
```

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä (–ë–î —Å–æ–∑–¥–∞—ë—Ç—Å—è –∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
python main.py

# Swagger UI:  http://localhost:8000/docs
# ReDoc:       http://localhost:8000/redoc
```

---

## API ‚Äî –∫—Ä–∞—Ç–∫–∏–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫

### –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏

| –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-----|----------|
| GET | /categories | –°–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π |
| POST | /categories | –°–æ–∑–¥–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é |
| DELETE | /categories/{id} | –£–¥–∞–ª–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é |
| GET | /manufacturers | –°–ø–∏—Å–æ–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–π |
| POST | /manufacturers | –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è |
| GET | /suppliers | –°–ø–∏—Å–æ–∫ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ |
| POST | /suppliers | –°–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ |
| PATCH | /suppliers/{id} | –û–±–Ω–æ–≤–∏—Ç—å –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ |
| DELETE | /suppliers/{id} | –î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ |
| GET | /locations | –°–ø–∏—Å–æ–∫ —è—á–µ–µ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è |
| POST | /locations | –î–æ–±–∞–≤–∏—Ç—å —è—á–µ–π–∫—É |

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

| –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-----|----------|
| GET | /components | –°–ø–∏—Å–æ–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (—Ñ–∏–ª—å—Ç—Ä—ã: category_id, search) |
| GET | /components/{id} | –ö–∞—Ä—Ç–æ—á–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ |
| POST | /components | –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç |
| PATCH | /components/{id} | –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç |
| DELETE | /components/{id} | –î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å |

### –û—Å—Ç–∞—Ç–∫–∏

| –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-----|----------|
| GET | /stocks | –û—Å—Ç–∞—Ç–∫–∏ (—Ñ–∏–ª—å—Ç—Ä—ã: component_id, location_id) |
| POST | /stocks/adjust | –†—É—á–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –æ—Å—Ç–∞—Ç–∫–∞ |

### –ü—Ä–∏—Ö–æ–¥

| –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-----|----------|
| GET | /receipts | –°–ø–∏—Å–æ–∫ –ø—Ä–∏—Ö–æ–¥–Ω—ã—Ö –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö |
| POST | /receipts | –°–æ–∑–¥–∞—Ç—å –Ω–∞–∫–ª–∞–¥–Ω—É—é (—á–µ—Ä–Ω–æ–≤–∏–∫) |
| POST | /receipts/{id}/confirm | –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å ‚Äî —É–≤–µ–ª–∏—á–∏—Ç—å –æ—Å—Ç–∞—Ç–∫–∏ |
| POST | /receipts/{id}/cancel | –û—Ç–º–µ–Ω–∏—Ç—å —á–µ—Ä–Ω–æ–≤–∏–∫ |

### –†–∞—Å—Ö–æ–¥

| –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-----|----------|
| GET | /issues | –°–ø–∏—Å–æ–∫ —Ä–∞—Å—Ö–æ–¥–Ω—ã—Ö –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö |
| POST | /issues | –°–æ–∑–¥–∞—Ç—å –Ω–∞–∫–ª–∞–¥–Ω—É—é (—á–µ—Ä–Ω–æ–≤–∏–∫) |
| POST | /issues/{id}/confirm | –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å ‚Äî —É–º–µ–Ω—å—à–∏—Ç—å –æ—Å—Ç–∞—Ç–∫–∏ |
| POST | /issues/{id}/cancel | –û—Ç–º–µ–Ω–∏—Ç—å —á–µ—Ä–Ω–æ–≤–∏–∫ |

### –ò–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è

| –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-----|----------|
| GET | /inventories | –°–ø–∏—Å–æ–∫ –∞–∫—Ç–æ–≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏–∏ |
| POST | /inventories | –ü—Ä–æ–≤–µ—Å—Ç–∏ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—é (–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ—Ç –æ—Å—Ç–∞—Ç–∫–∏) |

### –ê—É–¥–∏—Ç –∏ –æ—Ç—á—ë—Ç—ã

| –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-----|----------|
| GET | /audit | –ñ—É—Ä–Ω–∞–ª –∏–∑–º–µ–Ω–µ–Ω–∏–π (—Ñ–∏–ª—å—Ç—Ä—ã: component_id, action_type) |
| GET | /reports/stock | –°–≤–æ–¥–Ω—ã–π –æ—Ç—á—ë—Ç –ø–æ –æ—Å—Ç–∞—Ç–∫–∞–º |
| GET | /reports/stock?below_min_only=true | –¢–æ–ª—å–∫–æ –¥–µ—Ñ–∏—Ü–∏—Ç–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ |
| GET | /reports/movements | –ò—Å—Ç–æ—Ä–∏—è –¥–≤–∏–∂–µ–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ |

---

## –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

### –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏—Ö–æ–¥–Ω—É—é –Ω–∞–∫–ª–∞–¥–Ω—É—é –∏ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ —á–µ—Ä–Ω–æ–≤–∏–∫–∞
curl -X POST http://localhost:8000/receipts \
  -H "Content-Type: application/json" \
  -d '{
    "number": "–ü–ù-2024-001",
    "supplier_id": 1,
    "created_by": "–ò–≤–∞–Ω–æ–≤ –ê.–ê.",
    "items": [
      {"component_id": 1, "location_id": 1, "quantity": 5000, "price_rub": 0.15},
      {"component_id": 3, "location_id": 3, "quantity": 2000, "price_rub": 1.20}
    ]
  }'

# –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ (–æ—Å—Ç–∞—Ç–∫–∏ —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç—Å—è)
curl -X POST http://localhost:8000/receipts/1/confirm \
  -H "Content-Type: application/json" \
  -d '{"performed_by": "–ò–≤–∞–Ω–æ–≤ –ê.–ê."}'
```

### –í—ã–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

```bash
curl -X POST http://localhost:8000/issues \
  -H "Content-Type: application/json" \
  -d '{
    "number": "–†–ù-2024-001",
    "department": "–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ",
    "requester": "–ü–µ—Ç—Ä–æ–≤ –ö.–ë.",
    "purpose": "–°–±–æ—Ä–∫–∞ –ø–ª–∞—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è",
    "items": [
      {"component_id": 1, "location_id": 1, "quantity": 100},
      {"component_id": 8, "location_id": 8, "quantity": 5}
    ]
  }'

curl -X POST http://localhost:8000/issues/1/confirm?performed_by=–ö–ª–∞–¥–æ–≤—â–∏–∫
```

### –ü—Ä–æ–≤–µ—Å—Ç–∏ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—é

```bash
curl -X POST http://localhost:8000/inventories \
  -H "Content-Type: application/json" \
  -d '{
    "number": "–ò–ù–í-2024-01",
    "created_by": "–ö–æ–º–∏—Å—Å–∏—è",
    "items": [
      {"component_id": 1, "location_id": 1, "actual_quantity": 4890},
      {"component_id": 3, "location_id": 3, "actual_quantity": 8050}
    ]
  }'
```

### –ü–æ–ª—É—á–∏—Ç—å –¥–µ—Ñ–∏—Ü–∏—Ç–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏

```bash
curl "http://localhost:8000/reports/stock?below_min_only=true"
```

---

## –ñ—É—Ä–Ω–∞–ª –∞—É–¥–∏—Ç–∞

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Å—Ç–∞—Ç–∫–æ–≤ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ —Ç–∞–±–ª–∏—Ü—É `audit_logs`.
–ó–∞–ø–∏—Å–∏ **–Ω–µ –∏–∑–º–µ–Ω—è—é—Ç—Å—è –∏ –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è** ‚Äî —Ç–æ–ª—å–∫–æ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è.

–¢–∏–ø—ã —Å–æ–±—ã—Ç–∏–π: `receipt` ¬∑ `issue` ¬∑ `adjust` ¬∑ `inventory` ¬∑ `create` ¬∑ `update` ¬∑ `delete`

```bash
# –í—Å—è –∏—Å—Ç–æ—Ä–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Å id=1
curl "http://localhost:8000/audit?component_id=1"

# –¢–æ–ª—å–∫–æ –ø—Ä–∏—Ö–æ–¥—ã
curl "http://localhost:8000/audit?action_type=receipt"
```

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
warehouse_api/
‚îú‚îÄ‚îÄ main.py          # FastAPI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –≤—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
‚îú‚îÄ‚îÄ models.py        # SQLAlchemy-–º–æ–¥–µ–ª–∏ (—Å—Ö–µ–º–∞ –ë–î)
‚îú‚îÄ‚îÄ schemas.py       # Pydantic-—Å—Ö–µ–º—ã (–≤–∞–ª–∏–¥–∞—Ü–∏—è)
‚îú‚îÄ‚îÄ database.py      # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î, seed-–¥–∞–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ requirements.txt
‚îî‚îÄ‚îÄ README.md
```


